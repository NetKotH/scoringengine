package main

import (
	"crypto/tls"
	"log"
)

var (
	certBytes = `
-----BEGIN CERTIFICATE-----
MIIGZDCCBUygAwIBAgISAwFpSoQj0Yo/GJbozwV0qBcqMA0GCSqGSIb3DQEBCwUA
MEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD
ExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0xOTA0MDQxODQ4NDNaFw0x
OTA3MDMxODQ4NDNaMCExHzAdBgNVBAMTFnNjb3JlYm9hcmQubmV0a290aC5vcmcw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDQNxr95Oj9VlHiWmI0QKAe
QfLlgj+fe4+V89gTS+Noz0nQfvGv9oFPfTcd5oH0OQ9YGDE1osrEOz5VjtrBsnoI
fVLKrGzKcPjzJq4wWPBOXuEABzz0hQ3e/hF55k6MQkYULjJnV2CL3PLF884fMa3F
TitcdrLcPyIfCShI/ruLBAjyNck0VYaiK+5OmoHVnzJ7JioNpCQxNgqLkHZQ7X2m
ls5r64c2K/XmOLdLlX53R2OoXsYYwdb8akZnQI1feFaeXikRom0ag0iScPy5ZjgW
hqAepSLJtikJzVi/vZQ+76vwuLmL64Us2s7nnSnpK7lDV1GlIL7VzwcIOeUKUn0y
Zs8n3/pKQWZZvBYOE74KRqaIkuccqYgBeanSj+esTpIFL/nJT+5YRnwMO2kuJel3
L4TFTFhSIxldjCXXEVjtV1glMrn2V9q16Wg5j3GdUHCUJM4xnW9HZ89ZKe0jW8wZ
PRnSsPhqnv5MJ3JJLF8ttVoZVDk5WgBqciLuF1X0fmIWGIKPa4BIYZXVviKMo9bn
xl+/5gO9Qn6WqkmNN6P+j8Ymdfua+5vfS6/dOByMAHFZjE3LWq+6z1k35Itadeey
VTC/TVp1mp94q0AEvHGm5Dv7aTQgtmZV31eobKSYB36xcJCJ9yCjAGgTe4W1vI+m
FeIlRPqu/EZ0Hs2D9G0tBwIDAQABo4ICazCCAmcwDgYDVR0PAQH/BAQDAgWgMB0G
A1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8EAjAAMB0GA1Ud
DgQWBBSd1QQM9helXkzPs/L1YPFcvCFhmzAfBgNVHSMEGDAWgBSoSmpjBH3duubR
ObemRWXv86jsoTBvBggrBgEFBQcBAQRjMGEwLgYIKwYBBQUHMAGGImh0dHA6Ly9v
Y3NwLmludC14My5sZXRzZW5jcnlwdC5vcmcwLwYIKwYBBQUHMAKGI2h0dHA6Ly9j
ZXJ0LmludC14My5sZXRzZW5jcnlwdC5vcmcvMCEGA1UdEQQaMBiCFnNjb3JlYm9h
cmQubmV0a290aC5vcmcwTAYDVR0gBEUwQzAIBgZngQwBAgEwNwYLKwYBBAGC3xMB
AQEwKDAmBggrBgEFBQcCARYaaHR0cDovL2Nwcy5sZXRzZW5jcnlwdC5vcmcwggEE
BgorBgEEAdZ5AgQCBIH1BIHyAPAAdgBj8tvN6DvMLM8LcoQnV2szpI1hd4+9daY4
scdoVEvYjQAAAWnp5Xj6AAAEAwBHMEUCIED5Gj0IatJY1s6jQfNBep67kmBSFLWj
FoZ8gXiYC7jPAiEA5sU3JbqfnxJ5YalLAlnx8hSINbdrSoBU9o0oqi77JAIAdgDi
aUuuJujpQAnohhu2O4PUPuf+dIj7pI8okwGd3fHb/gAAAWnp5XroAAAEAwBHMEUC
IAD+91KGAFZF+yuOkwFax/8QdjcwaOpd7Vg/92CEN9ewAiEAwmItl7WeHCRQGgSy
dDoL6ueKgaoGC3ab/MFyTwf9oKMwDQYJKoZIhvcNAQELBQADggEBADPYCDkR5AyL
7/G2sKz3eAth1OqpBA8DdB13akpD00eATTD3h4TMIGmoku2rFaQq9lSrz+KsAat5
M3BF9beOBPicmao0rchcSQhu3ZnmRIoRFjqT/AcIlLyV7SrvIZH5FqopNi7D3Hu/
5zyc8v8qfcdDYcEE0VUlcgpSjcJImxT2QGHUfoktVkgyFkJwKspJ/++sXObndSag
RNe1M3r8YGHCnbwrCL9xiTVjSSQ3TLMgqHkwW2s1sHpYUuYkrmklpKjUoNgSeXca
QSL3Uegmo6pjLMH7xK0vG+VLLAydEQmfJhNOhhf0rR/lV+mGt7dG9mqJIklX3W+B
ONgVUaFJ5mA=
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/
MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT
DkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0Nlow
SjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMT
GkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOC
AQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EF
q6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8
SMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0
Z8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWA
a6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj
/PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0T
AQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIG
CCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNv
bTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9k
c3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAw
VAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcC
ARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAz
MDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwu
Y3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsF
AAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJo
uM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/
wApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwu
X4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlG
PfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6
KOqkqm57TH2H3eDJAkSnh6/DNFu0Qg==
-----END CERTIFICATE-----
`
	keyBytes = `
-----BEGIN RSA PRIVATE KEY-----
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
-----END RSA PRIVATE KEY-----
`
)

func setupTLS() *tls.Config {
	cert, err := tls.X509KeyPair([]byte(certBytes), []byte(keyBytes))
	if err != nil {
		log.Println(err)
		return nil
	}

	config := &tls.Config{
		MinVersion:               tls.VersionTLS12,
		Certificates:             []tls.Certificate{cert},
		CurvePreferences:         []tls.CurveID{tls.CurveP521, tls.CurveP384, tls.CurveP256},
		PreferServerCipherSuites: true,
		CipherSuites: []uint16{
			tls.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,
			tls.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,
			tls.TLS_RSA_WITH_AES_256_GCM_SHA384,
			tls.TLS_RSA_WITH_AES_256_CBC_SHA,
		},
	}

	return config
}
