package main

import (
	"crypto/tls"
	"log"
)

var (
	certBytes = `
-----BEGIN CERTIFICATE-----
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
XL0Xv38KWH5V
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/
MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT
DkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0Nlow
SjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMT
GkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOC
AQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EF
q6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8
SMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0
Z8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWA
a6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj
/PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0T
AQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIG
CCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNv
bTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9k
c3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAw
VAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcC
ARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAz
MDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwu
Y3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsF
AAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJo
uM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/
wApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwu
X4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlG
PfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6
KOqkqm57TH2H3eDJAkSnh6/DNFu0Qg==
-----END CERTIFICATE-----
`
	keyBytes = `
-----BEGIN RSA PRIVATE KEY-----
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
-----END RSA PRIVATE KEY-----
`
)

func setupTLS() *tls.Config {
	cert, err := tls.X509KeyPair([]byte(certBytes), []byte(keyBytes))
	if err != nil {
		log.Println(err)
		return nil
	}

	config := &tls.Config{
		MinVersion:               tls.VersionTLS12,
		Certificates:             []tls.Certificate{cert},
		CurvePreferences:         []tls.CurveID{tls.CurveP521, tls.CurveP384, tls.CurveP256},
		PreferServerCipherSuites: true,
		CipherSuites: []uint16{
			tls.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,
			tls.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,
			tls.TLS_RSA_WITH_AES_256_GCM_SHA384,
			tls.TLS_RSA_WITH_AES_256_CBC_SHA,
		},
	}

	return config
}
